import{a as l}from"./read-BRPGqXkT.js";import{i as m,d as p}from"./isAuthor-BHcnrvJ4.js";import"./constants-D_jcPeRz.js";const u=window.location.search,g=new URLSearchParams(u),c=g.get("id");c||(alert("Something went wrong with the ID of the post. You'll be redirected to the main page."),window.location.href="/");const h=document.getElementById("post-body"),w=await l(c),{title:x,body:f,media:r,tags:b,id:d,author:y}=w.data,e=document.createElement("div");e.classList="space-y-6";const a=document.createElement("h2");a.innerText=x;a.classList="text-2xl font-bold text-center text-primary";if(r?.url){const t=document.createElement("img");t.src=r.url,t.alt=r.alt||"Post image",t.classList="w-full h-auto rounded-lg shadow-md",e.appendChild(t)}else{const t=document.createElement("img");t.src="../../../public/images/noImage.jpg",t.alt="no image",t.classList="w-full h-auto rounded-lg shadow-md",e.appendChild(t)}const s=document.createElement("p");s.innerText=f;s.classList="text-gray-800 leading-relaxed";const i=document.createElement("p");i.innerText=`Tags: ${b.join(", ")}`;i.classList="text-sm text-gray-500 italic";if(m(y.name)){const t=document.createElement("div");t.classList="flex space-x-4 justify-center mt-6";const n=document.createElement("button");n.innerText="Edit",n.classList="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",n.addEventListener("click",()=>{window.location.href=`${window.location.origin}/post/edit/?id=${d}`});const o=document.createElement("button");o.innerText="Delete",o.classList="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",o.addEventListener("click",()=>{confirm("Are you sure you want to delete this post?")&&p(d).then(()=>{window.location.href="/"})}),t.append(n,o),e.append(a,s,i,t)}else e.append(a,s,i);h.append(e);
